---
layout: main.njk
pagination:
    data: categories
    size: 1
    alias: tag
permalink: "/collections/{{ tag.name | slug }}/"
relativeRoot: ../../../
eleventyExcludeFromCollections: true
description: Lists posts on a topic
---  
{% set collection = tag.tag %}
<lbwc-index-page title="{{ tag.name }}">
{% for post in collections[collection] | reverse | slice(0,5) %}
    <lbwc-list-entry 
        title="{{post.data.title}}"
        href="{{post.url}}"
        date="{{post.date.toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: 'numeric' })}}"
        teaser="{{post.data.teaser}}">
    </lbwc-list-entry>
{% endfor %}
{% if (collections[collection].length > 5) %}
<a id="loadmore" href="#" onclick="loadmore(); return false;">load {{collections[collection].length-5}} more</a>
<script type="text/javascript">
    function loadmore(){
        const indexpage=document.querySelector('lbwc-index-page');
        indexpage.insertAdjacentHTML('beforeend',`
        {% for post in collections[collection] | reverse | slice(5) %}
            <lbwc-list-entry 
                title="{{post.data.title}}"
                href="{{post.url}}"
                date="{{post.date.toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: 'numeric' })}}"
                teaser="{{post.data.teaser}}">
            </lbwc-list-entry>
        {% endfor %}
        `)
        document.getElementById("loadmore").remove()
    }
</script>
{% endif %}
</lbwc-index-page>
